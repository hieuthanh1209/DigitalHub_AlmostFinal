@model IEnumerable<DigitalHub.Models.Product>

@{
    ViewBag.Title = "Bàn phím, chuột";
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}

<link rel="stylesheet" href="~/Content/bootstrap.min.css" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />

<div id="ban-phim-chuot-section">
    <div class="p-5">
        <h2 class="mb-4">Bàn phím, chuột bán chạy</h2>

        <div class="row">
            @foreach (var item in Model)
            {
                <!-- Gọi Partial View _ProductCard.cshtml cho mỗi sản phẩm -->
                @Html.Partial("_ProductCard", item)
            }
        </div>
    </div>
</div>

<!-- Thêm JavaScript -->
<script>
    // Wishlist toggle function
    function toggleWishlist(event, element) {
        event.stopPropagation(); // Ngăn chặn sự kiện nhấn vào thẻ cha (tránh chuyển trang)

        if (!element.classList.contains('clicked')) {
            element.classList.toggle('active');
            element.classList.add('clicked');
            setTimeout(() => {
                element.classList.remove('clicked');
            }, 500); // Thời gian khớp với thời gian hiệu ứng sparkle
        }
    }

    function generateRandomRatings() {
        // Lấy tất cả các phần tử có id bắt đầu bằng "ratingValue-"
        const ratingElements = document.querySelectorAll('[id^="ratingValue-"]');

        // Tạo rating ngẫu nhiên cho mỗi phần tử
        ratingElements.forEach(element => {
            const rating = (Math.random() * 4 + 1).toFixed(1);
            element.textContent = rating;
        });
    }

    // Chạy function khi trang được tải
    window.onload = function () {
        generateRandomRatings();
    };
</script>
